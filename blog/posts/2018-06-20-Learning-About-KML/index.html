<!DOCTYPE html><html><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><style id="typography.js">html{font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}body{margin:0}article,aside,details,figcaption,figure,footer,header,main,menu,nav,section,summary{display:block}audio,canvas,progress,video{display:inline-block}audio:not([controls]){display:none;height:0}progress{vertical-align:baseline}[hidden],template{display:none}a{background-color:transparent;-webkit-text-decoration-skip:objects}a:active,a:hover{outline-width:0}abbr[title]{border-bottom:none;text-decoration:underline;text-decoration:underline dotted}b,strong{font-weight:inherit;font-weight:bolder}dfn{font-style:italic}h1{font-size:2em;margin:.67em 0}mark{background-color:#ff0;color:#000}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}img{border-style:none}svg:not(:root){overflow:hidden}code,kbd,pre,samp{font-family:monospace,monospace;font-size:1em}figure{margin:1em 40px}hr{box-sizing:content-box;height:0;overflow:visible}button,input,optgroup,select,textarea{font:inherit;margin:0}optgroup{font-weight:700}button,input{overflow:visible}button,select{text-transform:none}[type=reset],[type=submit],button,html [type=button]{-webkit-appearance:button}[type=button]::-moz-focus-inner,[type=reset]::-moz-focus-inner,[type=submit]::-moz-focus-inner,button::-moz-focus-inner{border-style:none;padding:0}[type=button]:-moz-focusring,[type=reset]:-moz-focusring,[type=submit]:-moz-focusring,button:-moz-focusring{outline:1px dotted ButtonText}fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}legend{box-sizing:border-box;color:inherit;display:table;max-width:100%;padding:0;white-space:normal}textarea{overflow:auto}[type=checkbox],[type=radio]{box-sizing:border-box;padding:0}[type=number]::-webkit-inner-spin-button,[type=number]::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}[type=search]::-webkit-search-cancel-button,[type=search]::-webkit-search-decoration{-webkit-appearance:none}::-webkit-input-placeholder{color:inherit;opacity:.54}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}html{font:112.5%/1.5625 'Source Sans Pro',sans-serif;box-sizing:border-box;overflow-y:scroll;}*{box-sizing:inherit;}*:before{box-sizing:inherit;}*:after{box-sizing:inherit;}body{color:hsla(0,0%,0%,0.8);font-family:'Source Sans Pro',sans-serif;font-weight:400;word-wrap:break-word;font-kerning:normal;-moz-font-feature-settings:"kern", "liga", "clig", "calt";-ms-font-feature-settings:"kern", "liga", "clig", "calt";-webkit-font-feature-settings:"kern", "liga", "clig", "calt";font-feature-settings:"kern", "liga", "clig", "calt";}img{max-width:100%;margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.5625rem;}h1{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.5625rem;color:hsla(0,0%,0%,1);font-family:'Source Serif Pro',sans-serif;font-weight:600;text-rendering:optimizeLegibility;font-size:2rem;line-height:1.1;}h2{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.5625rem;color:hsla(0,0%,0%,1);font-family:'Source Serif Pro',sans-serif;font-weight:600;text-rendering:optimizeLegibility;font-size:1.51572rem;line-height:1.1;}h3{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.5625rem;color:hsla(0,0%,0%,1);font-family:'Source Serif Pro',sans-serif;font-weight:600;text-rendering:optimizeLegibility;font-size:1.31951rem;line-height:1.1;}h4{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.5625rem;color:hsla(0,0%,0%,1);font-family:'Source Serif Pro',sans-serif;font-weight:600;text-rendering:optimizeLegibility;font-size:1rem;line-height:1.1;}h5{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.5625rem;color:hsla(0,0%,0%,1);font-family:'Source Serif Pro',sans-serif;font-weight:600;text-rendering:optimizeLegibility;font-size:0.87055rem;line-height:1.1;}h6{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.5625rem;color:hsla(0,0%,0%,1);font-family:'Source Serif Pro',sans-serif;font-weight:600;text-rendering:optimizeLegibility;font-size:0.81225rem;line-height:1.1;}hgroup{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.5625rem;}ul{margin-left:1.5625rem;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.5625rem;list-style-position:outside;list-style-image:none;}ol{margin-left:1.5625rem;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.5625rem;list-style-position:outside;list-style-image:none;}dl{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.5625rem;}dd{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.5625rem;}p{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.5625rem;}figure{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.5625rem;}pre{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.5625rem;font-size:0.85rem;line-height:1.5625rem;}table{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.5625rem;font-size:1rem;line-height:1.5625rem;border-collapse:collapse;width:100%;}fieldset{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.5625rem;}blockquote{margin-left:0;margin-right:1.5625rem;margin-top:0;padding-bottom:0;padding-left:1.75781rem;padding-right:0;padding-top:0;margin-bottom:1.5625rem;font-size:1.1487rem;line-height:1.5625rem;color:hsla(0,0%,0%,0.59);border-left:0.58594rem solid;border-color:#fcea0e;}form{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.5625rem;}noscript{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.5625rem;}iframe{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.5625rem;}hr{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:calc(1.5625rem - 1px);background:hsla(0,0%,0%,0.2);border:none;height:1px;}address{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.5625rem;}b{font-weight:700;}strong{font-weight:700;}dt{font-weight:700;}th{font-weight:700;}li{margin-bottom:calc(1.5625rem / 2);}ol li{padding-left:0;}ul li{padding-left:0;}li > ol{margin-left:1.5625rem;margin-bottom:calc(1.5625rem / 2);margin-top:calc(1.5625rem / 2);}li > ul{margin-left:1.5625rem;margin-bottom:calc(1.5625rem / 2);margin-top:calc(1.5625rem / 2);}blockquote *:last-child{margin-bottom:0;}li *:last-child{margin-bottom:0;}p *:last-child{margin-bottom:0;}li > p{margin-bottom:calc(1.5625rem / 2);}code{font-size:0.85rem;line-height:1.5625rem;}kbd{font-size:0.85rem;line-height:1.5625rem;}samp{font-size:0.85rem;line-height:1.5625rem;}abbr{border-bottom:1px dotted hsla(0,0%,0%,0.5);cursor:help;}acronym{border-bottom:1px dotted hsla(0,0%,0%,0.5);cursor:help;}abbr[title]{border-bottom:1px dotted hsla(0,0%,0%,0.5);cursor:help;text-decoration:none;}thead{text-align:left;}td,th{text-align:left;border-bottom:1px solid hsla(0,0%,0%,0.12);font-feature-settings:"tnum";-moz-font-feature-settings:"tnum";-ms-font-feature-settings:"tnum";-webkit-font-feature-settings:"tnum";padding-left:1.04167rem;padding-right:1.04167rem;padding-top:0.78125rem;padding-bottom:calc(0.78125rem - 1px);}th:first-child,td:first-child{padding-left:0;}th:last-child,td:last-child{padding-right:0;}a{color:#fb251b;text-decoration:none;}a:hover,a:active{color:hsla(0,0%,0%,0.8);}h1,h2,h3,h4,h5,h6{margin-top:3.125rem;}blockquote > :last-child{margin-bottom:0;}blockquote cite{font-size:1rem;line-height:1.5625rem;color:hsla(0,0%,0%,0.8);font-weight:400;}blockquote cite:before{content:"— ";}@media only screen and (max-width:480px){blockquote{margin-left:-1.17188rem;margin-right:0;border-left:0.29297rem solid;border-color:#fcea0e;padding-left:0.87891rem;}}</style><style data-href="/styles.76ff22d8ad42c6b645d1.css">code[class*=language-],pre[class*=language-]{color:#000;background:none;text-shadow:0 1px #fff;font-family:Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-ms-hyphens:none;hyphens:none}code[class*=language-]::selection,code[class*=language-] ::selection,pre[class*=language-]::selection,pre[class*=language-] ::selection{text-shadow:none;background:#b3d4fc}@media print{code[class*=language-],pre[class*=language-]{text-shadow:none}}pre[class*=language-]{padding:1em;margin:.5em 0;overflow:auto}:not(pre)>code[class*=language-],pre[class*=language-]{background:#f5f2f0}:not(pre)>code[class*=language-]{padding:.1em;border-radius:.3em;white-space:normal}.token.cdata,.token.comment,.token.doctype,.token.prolog{color:#708090}.token.punctuation{color:#999}.token.namespace{opacity:.7}.token.boolean,.token.constant,.token.deleted,.token.number,.token.property,.token.symbol,.token.tag{color:#905}.token.attr-name,.token.builtin,.token.char,.token.inserted,.token.selector,.token.string{color:#690}.language-css .token.string,.style .token.string,.token.entity,.token.operator,.token.url{color:#9a6e3a;background:hsla(0,0%,100%,.5)}.token.atrule,.token.attr-value,.token.keyword{color:#07a}.token.class-name,.token.function{color:#dd4a68}.token.important,.token.regex,.token.variable{color:#e90}.token.bold,.token.important{font-weight:700}.token.italic{font-style:italic}.token.entity{cursor:help}code[class*=language-],pre[class*=language-]{font-family:IBM Plex Mono,monospace;font-size:.8rem}#___gatsby,body{overflow-y:hidden}html{overflow-y:auto}.layout-module--layout--WT_lX{margin:3rem auto;max-width:900px}header{display:flex;align-items:center;justify-items:center;justify-content:space-between}header h3{margin:0}header nav{align-self:end;justify-self:end}header nav a:not(:last-child){margin-right:15px}.layout-module--title--2pFnw,.project-list-module--project-title--3yIse{display:flex;justify-content:space-between;align-items:center}.project-list-module--project-title--3yIse{margin-bottom:15px}.project-list-module--project-title--3yIse h2{margin:0}.project-list-module--language--1bZRd,.project-list-module--status--3zrNb{border-radius:3px;padding:5px}.project-list-module--language--1bZRd{background-color:rgba(181,144,202,.4)}span.project-list-module--language--1bZRd{margin-right:15px}.project-list-module--description--1c2ws{margin-bottom:15px}.project-listing-module--content--38tNg h2,.project-listing-module--content--38tNg h3{margin-top:0}.image-carousel-module--carousel-container--1tyxZ{position:relative;box-shadow:5px 5px 8px #eee;margin-bottom:30px}.image-carousel-module--carousel--2Xg0b{position:relative}.image-carousel-module--background-image--1RgHi{position:absolute;max-height:500px;top:0;width:100%;overflow:hidden;-webkit-filter:blur(5px);filter:blur(5px)}.image-carousel-module--foreground-image--157Xf{display:flex;justify-content:center}.image-carousel-module--navigation--1gega{position:absolute;width:100%;display:flex;justify-content:space-between;top:50%}.image-carousel-module--navigation--1gega div:hover{cursor:pointer}.image-carousel-module--navigation--1gega div:first-child{margin-left:15px}.image-carousel-module--navigation--1gega div:last-child{margin-right:15px}.blog-list-module--general-title--3jaRk{display:flex;justify-content:space-between;align-items:center}.blog-list-module--blog-title--I4gd8{margin:0 0 15px}.blog-list-module--subtitle--1zpXO{display:flex;justify-content:space-between}.blog-list-module--subtitle--1zpXO h3{margin-top:0;margin-bottom:15px;color:grey}.post-pagination-module--paginator--2b3dP{margin-top:15px;display:flex;justify-content:center}.post-pagination-module--active-page--2-V9m{color:#000;font-weight:700}.post-pagination-module--page-number--1ub6L{padding:5px}.blog-post-module--subtitle--2sM_R{margin-top:0;color:grey}.post-navigation-module--navigation--3VtCO .post-navigation-module--buttons--CZBoe{display:flex;justify-content:space-between}.post-navigation-module--navigation--3VtCO .post-navigation-module--buttons--CZBoe p{display:flex;max-width:450px;padding:8px 15px;background-color:hsla(0,0%,82.7%,.7);border-radius:5px;margin-bottom:0}.post-navigation-module--navigation--3VtCO .post-navigation-module--buttons--CZBoe p a{display:flex;align-items:center;color:#000}.index-module--home-container--3gShE{height:100vh;margin:0 auto;max-width:700px;display:flex;align-items:center;justify-items:center}.index-module--main-container--2f8vf{margin-right:30px}.index-module--contact--1t6Ht,.index-module--links--3i00D{display:flex}.index-module--contact--1t6Ht a:not(:last-child),.index-module--links--3i00D a:not(:last-child),strong{margin-right:15px}</style><meta name="generator" content="Gatsby 2.20.14"/><link href="//fonts.googleapis.com/css?family=Source+Serif+Pro:600|Source+Sans+Pro:400,400i,700" rel="stylesheet" type="text/css"/><link rel="preload" as="font" type="font/woff2" crossorigin="anonymous" href="/google-fonts/s/ibmplexmono/v5/-F63fjptAgt5VM-kVkqdyU8n1i8q1w.woff2"/><style type="text/css">@font-face{font-family:'IBM Plex Mono';font-style:normal;font-weight:400;src:local('IBM Plex Mono'),local('IBMPlexMono'),url(/google-fonts/s/ibmplexmono/v5/-F63fjptAgt5VM-kVkqdyU8n1i8q1w.woff2) format('woff2'),url(/google-fonts/s/ibmplexmono/v5/-F63fjptAgt5VM-kVkqdyU8n1i8q0Q.woff) format('woff');font-display: swap;}</style><link as="script" rel="preload" href="/webpack-runtime-133ec1ca78db31431cad.js"/><link as="script" rel="preload" href="/framework-3321703c33570853116c.js"/><link as="script" rel="preload" href="/app-5b3b56680bcec163e8c5.js"/><link as="script" rel="preload" href="/styles-0dd9b16d06f2e4f550cc.js"/><link as="script" rel="preload" href="/1bfc9850-67abfbc3305acb114ae2.js"/><link as="script" rel="preload" href="/a7d83a3326cab2242e62c53d592ff895c39e8ba9-3e5d3b219bf8cea167d3.js"/><link as="script" rel="preload" href="/component---src-templates-blog-post-js-f04ca8b982c05b68a1b7.js"/><link as="fetch" rel="preload" href="/page-data/blog/posts/2018-06-20-Learning-About-KML/page-data.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/app-data.json" crossorigin="anonymous"/></head><body><div id="___gatsby"><div style="outline:none" tabindex="-1" id="gatsby-focus-wrapper"><div class="layout-module--layout--WT_lX"><header><a href="/"><h3>A Programmer&#x27;s Perspective</h3></a><nav><a href="/blog">Blog</a><a href="/projects">Projects</a><a href="/about">About Me</a><a href="/recommendations">Recommendations</a></nav></header><div class="layout-module--title--2pFnw"><h1>Breaking down KML files</h1></div><div style="margin-bottom:1.5625rem"><div><h4 class="blog-post-module--subtitle--2sM_R">Published on: <!-- -->20 June 2018</h4><div><h2>Introduction</h2>
<p>During my second year, I took a data science course and in there, we were instructed to take data sets from <a href="https://data.gov.sg">https://data.gov.sg</a> about housing and provide analysis on the data and present our findings at the end of the assignment. Whilst looking through the data sets, I found that some files were in this mysterious file format: <code class="language-text">.kml</code> and that piqued my interest. So as I did more research, I began to learn more about KML and even took the time out to try to make a <a href="https://github.com/woojiahao/KMLConversionTool">KML to CSV file conversion tool</a>.</p>
<h2>What is KML?</h2>
<p>KML was originally developed to be used with Google Earth and its purpose was to create a format to display geographic data. This is why, all KML files that I had opened had these odd syntax of specifying coordinates like so:</p>
<div class="gatsby-highlight" data-language="xml"><pre style="counter-reset: linenumber NaN" class="language-xml line-numbers"><code class="language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>LinearRing</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>coordinates</span><span class="token punctuation">></span></span>103.690974939056,1.34272948662249,0.0 103.690974834354,1.34453820996955,0.0 103.692771950895,1.34453831475346,0.0 103.692772054276,1.34272959126538,0.0 103.690974939056,1.34272948662249,0.0<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>coordinates</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>LinearRing</span><span class="token punctuation">></span></span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span></span></pre></div>
<p>However, the cool thing about KML is that, since it is an extension of the XML markup, it can also be used to store other data, that is assigned to each of these coordinates which will all be placed into a parent tag called the <code class="language-text">&lt;Placemark&gt;&lt;/Placemark&gt;</code> tag. This tag would store all of the information for a single point or points on the map, including the coordinates and as some might expect, some place specific data.</p>
<p>The test data I had decided to use was from: <a href="https://data.gov.sg/dataset/dengue-cases">https://data.gov.sg/dataset/dengue-cases</a></p>
<h2>Making the converter</h2>
<p>So the first thing I had to do before starting to code was to perform some analysis on the .kml format to identify how I would be extracting the column names and the inidividual values from each of the placemarks and then placing them into the .csv file together with the headers.</p>
<h3>Analysis</h3>
<p>Scrolling through the sample KML files, I found that for each of the extra data placed into the <code class="language-text">Placemark</code> tag, it would have a <code class="language-text">&lt;SimpleData&gt;&lt;/SimpleData&gt;</code> tag associated with each "row". For instance, using the <code class="language-text">dengue-cases-south-west-kml.kml</code> file, I found that:</p>
<div class="gatsby-highlight" data-language="xml"><pre style="counter-reset: linenumber NaN" class="language-xml line-numbers"><code class="language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Placemark</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>kml_1<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
...
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ExtendedData</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>SchemaData</span> <span class="token attr-name">schemaUrl</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>#kml_schema_ft_DENGUECASE_SOUTHWEST_AREA<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>SimpleData</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>JOIN_COUNT<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>2<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>SimpleData</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>SimpleData</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>AREANAME<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>No. of Dengue Cases : 2<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>SimpleData</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>SimpleData</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>DETAIL<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>No. of Dengue Cases : 2<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>SimpleData</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>SimpleData</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>INC_CRC<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>902EDAE1119E0520<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>SimpleData</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>SimpleData</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>FMEL_UPD_D<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>20180531113843<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>SimpleData</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>SchemaData</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ExtendedData</span><span class="token punctuation">></span></span>
...
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Placemark</span><span class="token punctuation">></span></span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>
<p>These <code class="language-text">SimpleData</code> all had a specific name as an attribute and I noticed that all of the <code class="language-text">Placemarks</code> would have the same set of <code class="language-text">SimpleData</code> and all of them would be assigned to the same name attributes. So, I begun to think that there must be some declaration fo these names at the beginning or the end of the KML file that is associated with these name attributes, and sure enough, at the top, I found the next discovery, the <code class="language-text">&lt;SimpleField&gt;&lt;/SimpleField&gt;</code> tag.</p>
<p>Right at the top of the document, right after the <code class="language-text">Document</code> tag, there are declarations for <code class="language-text">SimpleField</code>s with their <code class="language-text">displayName</code> being the associated name attributes that I had found earlier.</p>
<p>So, from this brief analysis, I learnt 2 things:</p>
<ol>
<li>To extract the headers for the CSV file, I would need to find all those <code class="language-text">SimpleField</code> tags and getting their <code class="language-text">displayName</code>s</li>
<li>To extract the contents, I would have to go through each <code class="language-text">Placemark</code> and find the <code class="language-text">ExtendedData</code> and extract the <code class="language-text">SimpleData</code>s, associating each of the contents with one of the previously found headers.</li>
</ol>
<h3>Process</h3>
<p>For this project, I decided on using Python to make the converter because it supports easy to use XML libraries like <a href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#">BeautifulSoup</a> which made analysing the files much easier. Also, I was interested in GUI programming with Python, so I decided to use <a href="https://wiki.python.org/moin/TkInter">TkInter</a> to make the GUI.</p>
<p>I first had to make a base class <code class="language-text">Converter</code> to ensure provide some base functionality in the event where I decide to extend the application to convert KML to other file formats. The base functionality included checking if the file could be convertible (whether it is even a compatible KML file) and getting the BeautifulSoup instance for that file. They were both made protected. </p>
<p>Then, I worked on the first version of the converter, <code class="language-text">CSVConverter</code>. It extended <code class="language-text">Converter</code>, it would extract the headers and return them as a joined string, do the same for the rows of data, returning them in a CSV format. Then, the converter would create the needed destination folder which I used the <code class="language-text">os</code> library to get the OS specific user folder. Then simply opening the file and uploading the newly generated data. This version of the converter had simply extracted the data as is, assuming that the order of the <code class="language-text">SimpleData</code> fields would correspond to the <code class="language-text">SimpleField</code> data at the top of the document. So, for instance, if the KML file had declared the <code class="language-text">SimpleData</code> inverse to the original <code class="language-text">SimpleField</code> declaration, the CSV file generated would be inversed too.</p>
<p>This was a major problem, so I came up with the second version of the converter, <code class="language-text">CSVConverter2</code>. This was meant to provide a manner of associating each of the <code class="language-text">SimpleData</code> with the right <code class="language-text">SimpleField</code> before saving it as a CSV file, so regardless of the ordering, the file would always be in the right order. I made use of an <code class="language-text">OrderedDict</code>, but in retrospect, a normal dictionary would have worked. The keys would be the data that was declared in the <code class="language-text">SimpleField</code> and for each of the key, it would have a list, to contain every single row. Then, when constructing thse data, I would link each of the data together to form the CSV file.</p>
<h2>Conclusion</h2>
<p>I had a lot of fun analysing the KML file format, finding patterns and trying to come up with an optimal solution to extracting and converting a .kml file to a .csv file. Learning about TkInter as well as other libraries available to Python was also extremely fruitful and made me appreciate the simplicity that Python offers.</p>
<p>If you would like to check out the GitHub repository, you can do so <a href="https://github.com/woojiahao/KMLConversionTool">here</a>.</p></div></div><div class="post-navigation-module--navigation--3VtCO"><hr/><div class="post-navigation-module--buttons--CZBoe"><p><a href="/blog/posts/2018-07-12-Deploying-a-Kotlin-bot-on-discord-with-heroku"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 512 512" style="margin-right:15px" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M256 504C119 504 8 393 8 256S119 8 256 8s248 111 248 248-111 248-248 248zm116-292H256v-70.9c0-10.7-13-16.1-20.5-8.5L121.2 247.5c-4.7 4.7-4.7 12.2 0 16.9l114.3 114.9c7.6 7.6 20.5 2.2 20.5-8.5V300h116c6.6 0 12-5.4 12-12v-64c0-6.6-5.4-12-12-12z"></path></svg>Deploying Discord bots written in Kotlin on Heroku</a></p><p><a href="/blog/posts/2018-04-14-Interning-at-Mightyaim">Interning at MightyAim - the good, the bad and the ugly<svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 512 512" style="margin-left:15px" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M256 8c137 0 248 111 248 248S393 504 256 504 8 393 8 256 119 8 256 8zM140 300h116v70.9c0 10.7 13 16.1 20.5 8.5l114.3-114.9c4.7-4.7 4.7-12.2 0-16.9l-114.3-115c-7.6-7.6-20.5-2.2-20.5 8.5V212H140c-6.6 0-12 5.4-12 12v64c0 6.6 5.4 12 12 12z"></path></svg></a></p></div></div></div><footer>Copyright © 2020. A Programmer&#x27;s Perspective is built with Gatsby.js. The repository can be found <a href="https://github.com/woojiahao/woojiahao.github.io.development">here.</a></footer></div></div><div id="gatsby-announcer" style="position:absolute;top:0;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border:0" aria-live="assertive" aria-atomic="true"></div></div><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/blog/posts/2018-06-20-Learning-About-KML";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"app":["/app-5b3b56680bcec163e8c5.js"],"component---src-templates-project-list-js":["/component---src-templates-project-list-js-fe70231abf93610ebcbe.js"],"component---src-templates-project-listing-js":["/component---src-templates-project-listing-js-f4de02d56947d08224a6.js"],"component---src-templates-blog-list-js":["/component---src-templates-blog-list-js-47167e444bedd0afeb42.js"],"component---src-templates-blog-post-js":["/component---src-templates-blog-post-js-f04ca8b982c05b68a1b7.js"],"component---src-pages-about-js":["/component---src-pages-about-js-fa7e8a607b8d6b8a585a.js"],"component---src-pages-index-js":["/component---src-pages-index-js-b6a94a170c86ea469424.js"],"component---src-pages-recommendations-js":["/component---src-pages-recommendations-js-1f91883323201ea57f68.js"]};/*]]>*/</script><script src="/component---src-templates-blog-post-js-f04ca8b982c05b68a1b7.js" async=""></script><script src="/a7d83a3326cab2242e62c53d592ff895c39e8ba9-3e5d3b219bf8cea167d3.js" async=""></script><script src="/1bfc9850-67abfbc3305acb114ae2.js" async=""></script><script src="/styles-0dd9b16d06f2e4f550cc.js" async=""></script><script src="/app-5b3b56680bcec163e8c5.js" async=""></script><script src="/framework-3321703c33570853116c.js" async=""></script><script src="/webpack-runtime-133ec1ca78db31431cad.js" async=""></script></body></html>