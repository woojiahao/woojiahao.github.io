<!DOCTYPE html><html><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><style data-href="/styles.fed834891e26467fd9ea.css">code[class*=language-],pre[class*=language-]{color:#ccc;background:none;font-family:Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-ms-hyphens:none;hyphens:none}pre[class*=language-]{padding:1em;margin:.5em 0;overflow:auto}:not(pre)>code[class*=language-],pre[class*=language-]{background:#2d2d2d}:not(pre)>code[class*=language-]{padding:.1em;border-radius:.3em;white-space:normal}.token.block-comment,.token.cdata,.token.comment,.token.doctype,.token.prolog{color:#999}.token.punctuation{color:#ccc}.token.attr-name,.token.deleted,.token.namespace,.token.tag{color:#e2777a}.token.function-name{color:#6196cc}.token.boolean,.token.function,.token.number{color:#f08d49}.token.class-name,.token.constant,.token.property,.token.symbol{color:#f8c555}.token.atrule,.token.builtin,.token.important,.token.keyword,.token.selector{color:#cc99cd}.token.attr-value,.token.char,.token.regex,.token.string,.token.variable{color:#7ec699}.token.entity,.token.operator,.token.url{color:#67cdcc}.token.bold,.token.important{font-weight:700}.token.italic{font-style:italic}.token.entity{cursor:help}.token.inserted{color:green}*{margin:0;padding:0}h1,h2,h3,h4,h5,h6{position:relative;font-family:var(--heading-font);margin:1em 0;font-weight:700}.anchor.before{fill:var(--fg-color)}#___gatsby,#gatsby-focus-wrapper,body,html{height:100%}body{--link-color:#ff5964;--bg-color:#fdfffc;--fg-color:#2b2d42;--base-unit:16px;--dark-text:#141414;--heading-font:"Lato","Open Sans","Montserrat",sans-serif;--body-font:"Open Sans",Avenir,Helvetica,Arial,sans-serif;--gray:#616161;--shadow:#eee 5px 5px 8px;--pagination-background:#fafafa;--pagination-active-background:#f5f5f5;--blur:5px;background-color:var(--bg-color);color:var(--fg-color);font-size:var(--base-unit);font-family:var(--body-font);-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;transition:background-color .5s}body.dark{--link-color:#83bcff;--bg-color:#2b2d42;--fg-color:#fdfffc;--gray:#bdbdbd;--shadow:none;--pagination-background:#212121;--pagination-active-background:#424242;--blur:0px}p{line-height:25px;margin-bottom:2em}a{color:var(--link-color);font-weight:700;text-decoration:none}li a,p a{background:linear-gradient(180deg,var(--link-color) 0,var(--link-color)) repeat-x 0 100%;background-size:4px 2px;transition:all .3s}li a:hover,p a:hover{background-size:4px 50px;color:var(--fg-color)}ol,ul{margin-bottom:2em}ol li:not(:last-child),ul li:not(:last-child){margin-bottom:.5em}blockquote{position:relative;display:block;color:var(--gray);margin-bottom:2em;padding:.5em 0}blockquote p:last-child{padding:0;margin:0}blockquote:before{position:absolute;content:"";top:0;bottom:0;left:-5%;width:10px;background-color:var(--link-color)}.video-container{position:relative;width:100%;height:0;padding-bottom:56.25%;margin-bottom:1.5625rem}.video{position:absolute;top:0;left:0;width:100%;height:100%}code[class*=language-],pre[class*=language-]{font-family:Source Code Pro,monospace}@media screen and (max-width:1024px){body{--base-unit:15px}p{line-height:22px}}@media screen and (max-width:768px){body{--base-unit:14px}p{line-height:20px}blockquote{width:90%;margin:0 auto 2em}blockquote:before{width:5px}}@media screen and (max-width:512px){body{--base-unit:13px}p{line-height:18px}}.layout-module--layout--WT_lX{margin:3rem auto;max-width:900px}header{display:flex;align-items:center;justify-items:center;justify-content:space-between}header h3{margin:0;padding:0;color:var(--fg-color)}header nav{align-self:end;justify-self:end}header nav a:not(:last-child){margin-right:15px}.layout-module--title--2pFnw{display:flex;justify-content:space-between;align-items:center}@media screen and (max-width:1024px){.layout-module--layout--WT_lX{max-width:700px}}@media screen and (max-width:768px){.layout-module--layout--WT_lX{max-width:500px}header{flex-direction:column;align-items:center;justify-content:center}header nav{align-self:center;justify-self:center;margin-top:15px}}@media screen and (max-width:512px){.layout-module--layout--WT_lX{max-width:400px}}@media screen and (max-width:420px){.layout-module--layout--WT_lX{max-width:300px}}.back-to-top-module--arrow--154X5{position:fixed;bottom:0;right:0;display:inline-flex;border-radius:3px;padding:5px 15px 15px 5px}.back-to-top-module--arrow--154X5:hover{cursor:pointer}.back-to-top-module--hidden--1vCrd{visibility:collapse}@media screen and (max-width:768px){.back-to-top-module--arrow--154X5{visibility:collapse}}.index-module--home-container--3gShE{height:100%;margin:0 auto;max-width:700px;display:flex;align-items:center;justify-items:center}.index-module--main-container--2f8vf{margin-right:30px}.index-module--contact--1t6Ht,.index-module--links--3i00D{display:flex}.index-module--links--3i00D{margin-bottom:15px}.index-module--contact--1t6Ht a:not(:last-child),.index-module--contact--1t6Ht strong,.index-module--links--3i00D a:not(:last-child),.index-module--links--3i00D strong{margin-right:15px}@media screen and (max-width:768px){.index-module--home-container--3gShE{max-width:500px}}@media screen and (max-width:512px){.index-module--home-container--3gShE{max-width:400px}.index-module--contact--1t6Ht,.index-module--links--3i00D{flex-direction:column}.index-module--links--3i00D{margin-bottom:15px}}@media screen and (max-width:420px){.index-module--home-container--3gShE{max-width:300px}}.theme-toggle-module--theme-toggle--2rW1R:hover{cursor:pointer}.blog-list-module--general-title--3jaRk{display:flex;justify-content:space-between;align-items:center}.blog-list-module--blog-card--2Ax1S a h2{margin:0;padding:0}.blog-list-module--blog-card--2Ax1S a{text-decoration:none}.blog-list-module--subtitle--1zpXO{display:flex;justify-content:space-between}.blog-list-module--subtitle--1zpXO h3{margin:1em 0;color:var(--gray);padding:0}.blog-list-module--tags--3gLhP{display:flex;flex-wrap:wrap}.blog-list-module--tags--3gLhP div{display:flex;padding:5px 10px;background-color:#e0f2f1;border-radius:5px;align-items:center;justify-content:center;margin-bottom:15px}.blog-list-module--tags--3gLhP div span{color:#424242}.blog-list-module--tags--3gLhP div svg{margin-right:5px}.blog-list-module--tags--3gLhP div:not(:last-child){margin-right:10px}.blog-post-module--subtitle--2sM_R{margin-top:0;color:var(--gray)}.blog-post-module--tags--3p1cR h4{display:flex;flex-wrap:wrap;margin-bottom:10px}.blog-post-module--tags--3p1cR h4 svg{margin-right:15px}.blog-post-module--tags-container--1xoUV{display:flex;flex-wrap:wrap}.blog-post-module--tags--3p1cR span{padding:5px 10px;background-color:#5bc0be;color:var(--fg-color);border-radius:5px;margin-bottom:10px}.blog-post-module--tags--3p1cR span:not(:last-child){margin-right:10px}.project-list-module--project-title--3yIse{display:flex;justify-content:space-between;align-items:center;margin-bottom:15px}.project-list-module--project-title--3yIse h2{margin:0}.project-list-module--language--1bZRd,.project-list-module--status--3zrNb{border-radius:3px;padding:5px}.project-list-module--language--1bZRd{background-color:rgba(181,144,202,.4)}span.project-list-module--language--1bZRd{margin-right:15px}.project-list-module--description--1c2ws{margin-bottom:15px}@media screen and (max-width:420px){.project-list-module--project-title--3yIse{flex-direction:column;align-items:start}.project-list-module--project-title--3yIse h2{margin-bottom:15px}}.post-list-pagination-module--paginator--1HQ9a{margin-top:15px;display:flex;justify-content:center}.post-list-pagination-module--active-page--FR7mU{background-color:var(--pagination-active-background)}.post-list-pagination-module--paginator--1HQ9a div{display:flex;flex-direction:row;align-content:center;align-items:center;justify-content:center}.post-list-pagination-module--page-number--14Qfw{display:inline-flex;padding:3px 10px;border:1px solid #e0e0e0}.post-list-pagination-module--page-number--14Qfw:hover{background-color:var(--pagination-background)}.project-listing-module--content--38tNg h2,.project-listing-module--content--38tNg h3{margin-top:0}.project-listing-module--links--3hJUU{display:flex;flex-direction:column;margin-bottom:15px}.project-listing-module--links--3hJUU a:not(:last-child){margin-bottom:15px}.project-listing-module--content--38tNg{display:flex;justify-content:space-between}.project-listing-module--sidebar--38aRC{flex-basis:30%}.project-listing-module--main-content--3BMlI{flex-basis:60%}@media screen and (max-width:512px){.project-listing-module--content--38tNg{flex-direction:column}}.image-carousel-module--carousel-container--1tyxZ{position:relative;box-shadow:var(--shadow);margin-bottom:30px}.image-carousel-module--carousel--2Xg0b{position:relative}.image-carousel-module--background-image--1RgHi{position:absolute;height:500px;top:0;width:100%;overflow:hidden;-webkit-filter:blur(var(--blur));filter:blur(var(--blur))}.image-carousel-module--foreground-image--157Xf{display:flex;justify-content:center}.image-carousel-module--navigation-container--3K-72{position:absolute;top:0;bottom:0;left:0;right:0;display:flex;align-items:center;justify-content:center}.image-carousel-module--navigation--1gega{width:100%;display:flex;justify-content:space-between}.image-carousel-module--navigation--1gega div{padding:15px}.image-carousel-module--navigation--1gega div:hover{cursor:pointer}@media screen and (max-width:768px){.image-carousel-module--background-image--1RgHi,.image-carousel-module--carousel-container--1tyxZ,.image-carousel-module--foreground-image--157Xf,.image-carousel-module--foreground-image--157Xf img{max-height:300px;max-height:200px}}.post-navigation-module--navigation--3VtCO hr{color:var(--fg-color);margin:15px 0}.post-navigation-module--navigation--3VtCO .post-navigation-module--buttons--CZBoe{display:flex;justify-content:space-between}.post-navigation-module--navigation--3VtCO .post-navigation-module--buttons--CZBoe p{display:flex;max-width:450px;border-radius:5px;margin-bottom:0}.post-navigation-module--navigation--3VtCO .post-navigation-module--buttons--CZBoe p a{display:flex;align-items:center;color:var(--textTitle);background:none}@media screen and (max-width:768px){.post-navigation-module--navigation--3VtCO .post-navigation-module--buttons--CZBoe{flex-direction:column}.post-navigation-module--navigation--3VtCO .post-navigation-module--buttons--CZBoe p:first-child{margin-bottom:15px;align-self:flex-start}.post-navigation-module--navigation--3VtCO .post-navigation-module--buttons--CZBoe p:last-child{align-self:flex-end}}</style><meta name="generator" content="Gatsby 2.20.14"/><title data-react-helmet="true">Elixir has opened my eyes... | A Programmer&#x27;s Perspective</title><meta data-react-helmet="true" name="description" content="null - Elixir has opened my eyes... - How Elixir and functional programming has changed the way I look at problems"/><meta data-react-helmet="true" name="image" content="https://woojiahao.github.io/images/icon.png"/><meta data-react-helmet="true" property="keywords" content="reflection, sharing, Elixir, Advent of Code 2020"/><meta data-react-helmet="true" property="og:url" content="https://woojiahao.github.io/blog/posts/2020-12-29-Elixir has opened my eyes"/><meta data-react-helmet="true" property="og:title" content="Elixir has opened my eyes... | A Programmer&#x27;s Perspective"/><meta data-react-helmet="true" property="og:description" content="null - Elixir has opened my eyes... - How Elixir and functional programming has changed the way I look at problems"/><meta data-react-helmet="true" property="og:image" content="https://woojiahao.github.io/images/icon.png"/><link rel="preconnect dns-prefetch" href="https://www.google-analytics.com"/><script>
  
  function gaOptout(){document.cookie=disableStr+'=true; expires=Thu, 31 Dec 2099 23:59:59 UTC;path=/',window[disableStr]=!0}var gaProperty='UA-164563111-1',disableStr='ga-disable-'+gaProperty;document.cookie.indexOf(disableStr+'=true')>-1&&(window[disableStr]=!0);
  if(true) {
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
  }
  if (typeof ga === "function") {
    ga('create', 'UA-164563111-1', 'auto', {});
      ga('set', 'anonymizeIp', true);
      
      
      
      
      }</script><link href="https://fonts.googleapis.com/css?family=Source+Code+Pro|Lato|Rubik|Open+Sans" rel="stylesheet"/><style type="text/css">
    .anchor.before {
      position: absolute;
      top: 0;
      left: 0;
      transform: translateX(-100%);
      padding-right: 4px;
    }
    .anchor.after {
      display: inline-block;
      padding-left: 4px;
    }
    h1 .anchor svg,
    h2 .anchor svg,
    h3 .anchor svg,
    h4 .anchor svg,
    h5 .anchor svg,
    h6 .anchor svg {
      visibility: hidden;
    }
    h1:hover .anchor svg,
    h2:hover .anchor svg,
    h3:hover .anchor svg,
    h4:hover .anchor svg,
    h5:hover .anchor svg,
    h6:hover .anchor svg,
    h1 .anchor:focus svg,
    h2 .anchor:focus svg,
    h3 .anchor:focus svg,
    h4 .anchor:focus svg,
    h5 .anchor:focus svg,
    h6 .anchor:focus svg {
      visibility: visible;
    }
  </style><script>
    document.addEventListener("DOMContentLoaded", function(event) {
      var hash = window.decodeURI(location.hash.replace('#', ''))
      if (hash !== '') {
        var element = document.getElementById(hash)
        if (element) {
          var scrollTop = window.pageYOffset || document.documentElement.scrollTop || document.body.scrollTop
          var clientTop = document.documentElement.clientTop || document.body.clientTop || 0
          var offset = element.getBoundingClientRect().top + scrollTop - clientTop
          // Wait for the browser to finish rendering before scrolling.
          setTimeout((function() {
            window.scrollTo(0, offset - 0)
          }), 0)
        }
      }
    })
  </script><link rel="icon" href="/icons/icon-48x48.png?v=fa8429e5cae67fee3058ed2c3775a420"/><link rel="manifest" href="/manifest.webmanifest"/><link rel="apple-touch-icon" sizes="48x48" href="/icons/icon-48x48.png?v=fa8429e5cae67fee3058ed2c3775a420"/><link rel="apple-touch-icon" sizes="72x72" href="/icons/icon-72x72.png?v=fa8429e5cae67fee3058ed2c3775a420"/><link rel="apple-touch-icon" sizes="96x96" href="/icons/icon-96x96.png?v=fa8429e5cae67fee3058ed2c3775a420"/><link rel="apple-touch-icon" sizes="144x144" href="/icons/icon-144x144.png?v=fa8429e5cae67fee3058ed2c3775a420"/><link rel="apple-touch-icon" sizes="192x192" href="/icons/icon-192x192.png?v=fa8429e5cae67fee3058ed2c3775a420"/><link rel="apple-touch-icon" sizes="256x256" href="/icons/icon-256x256.png?v=fa8429e5cae67fee3058ed2c3775a420"/><link rel="apple-touch-icon" sizes="384x384" href="/icons/icon-384x384.png?v=fa8429e5cae67fee3058ed2c3775a420"/><link rel="apple-touch-icon" sizes="512x512" href="/icons/icon-512x512.png?v=fa8429e5cae67fee3058ed2c3775a420"/><link as="script" rel="preload" href="/webpack-runtime-280fb773004bbd115daa.js"/><link as="script" rel="preload" href="/framework-84c9287a5714d2d8ce36.js"/><link as="script" rel="preload" href="/app-98f3e2ce45f88b295012.js"/><link as="script" rel="preload" href="/styles-0dd9b16d06f2e4f550cc.js"/><link as="script" rel="preload" href="/0c428ae2-82896d4921773a4c9835.js"/><link as="script" rel="preload" href="/d7eeaac4-97311478b2221ced9c67.js"/><link as="script" rel="preload" href="/95b64a6e-101708775e0f470f9a67.js"/><link as="script" rel="preload" href="/component---src-templates-blog-post-js-2705bb5758577915bf21.js"/><link as="fetch" rel="preload" href="/page-data/blog/posts/2020-12-29-Elixir has opened my eyes/page-data.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/app-data.json" crossorigin="anonymous"/></head><body><script>
void function() {
  window.__onThemeChange = function() {}

  var preferredTheme
  try {
    preferredTheme = localStorage.getItem('theme')
  } catch (err) { }

  function setTheme(newTheme) {
    if (preferredTheme && document.body.classList.contains(preferredTheme)) {
      document.body.classList.replace(preferredTheme, newTheme)
    } else {
      document.body.classList.add(newTheme)
    }

    window.__theme = newTheme
    preferredTheme = newTheme
    window.__onThemeChange(newTheme)
  }

  window.__setPreferredTheme = function(newTheme) {
    setTheme(newTheme)
    try {
      localStorage.setItem('theme', newTheme)
    } catch (err) {}
  }

  var darkQuery = window.matchMedia('(prefers-color-scheme: dark)')
  darkQuery.addListener(function(e) {
    window.__setPreferredTheme(e.matches ? 'dark' : 'light')
  })

  setTheme(preferredTheme || (darkQuery.matches ? 'dark' : 'light'))
}()
    </script><div id="___gatsby"><div style="outline:none" tabindex="-1" id="gatsby-focus-wrapper"><div><div class="layout-module--layout--WT_lX"><label style="position:absolute;right:0;top:0;margin:15px"><input type="checkbox" hidden=""/> <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 20 20" class="theme-toggle-module--theme-toggle--2rW1R" height="1.25em" width="1.25em" xmlns="http://www.w3.org/2000/svg"><path d="M17.293 13.293A8 8 0 016.707 2.707a8.002 8.002 0 1010.586 10.586z"></path></svg></label><header><a href="/"><h3>A Programmer&#x27;s Perspective</h3></a><nav><a href="/blog">Blog</a><a href="/projects">Projects</a><a href="/about">About Me</a><a href="/recommendations">Recommendations</a></nav></header><div class="layout-module--title--2pFnw"><h1>Elixir has opened my eyes...</h1></div><div style="margin-bottom:1em"><div><h4 class="blog-post-module--subtitle--2sM_R">Published on: </h4><div><p>Functional programming (FP) is a mythical beast to the fledging developer. It can seem daunting to approach the idea of designing systems with the idea of pure functions in mind and rightfully so. I was the same a couple of years back - right when I was starting to get into computer science. Coming from object-oriented programming (OOP), FP was like trying to fit a square peg into a round hole for me. My first exposure to FP was through streams in Java 8. Then, I moved onto Kotlin and Javascript which had better "built-in" support for FP-like syntax by focusing on developing a language that has first-class functions. Finally, I approached the beast: Elixir! </p>
<p>Learning Elixir has been a joy, honestly. It filled the gaps that Kotlin and Javascript left as they had to accommodate for OOP. In order to practice Elixir, I decided to work on Advent of Code (AoC) 2020. Working on AoC highlighted the strengths of Elixir/FP and my weaknesses in recursion and problem solving without OOP. It has also trained me to write far cleaner code without wasting crucial man-hours writing convoluted code.</p>
<p>Recently, I was reading some Kotlin code and the most unusual thing happened: I had no idea what I was reading! I certainly understood what the code was meant to do, but I didn't at the same time... The once elegant and easy to reason FP-esque code had become a challenge to interpret and that made me appreciate Elixir and "proper" FP more - specifically, function chaining, pattern matching, and guard clauses.</p>
<h2 id="function-chaining" style="position:relative;"><a href="#function-chaining" aria-label="function chaining permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Function chaining</h2>
<p>Function chaining is by far the easiest of the three to explain so let's knock it out in one fell swoop.</p>
<p>In Kotlin or Javascript, functions are chained as such:</p>
<div class="gatsby-highlight" data-language="kotlin"><pre style="counter-reset: linenumber NaN" class="language-kotlin line-numbers"><code class="language-kotlin">lst<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">{</span> it <span class="token operator">%</span> <span class="token number">2</span> <span class="token operator">==</span> <span class="token number">0</span> <span class="token punctuation">}</span><span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">{</span> it <span class="token operator">+</span> <span class="token number">3</span> <span class="token punctuation">}</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span></span></pre></div>
<p>This syntax is made possible because <code class="language-text">lst</code> is a <code class="language-text">List&lt;T&gt;</code> object and these objects have methods that provide such functionality (so really, we're performing method calling).</p>
<p>In Elixir, however, we do not trifle with the mundane like objects or methods. Instead, we have modules. And in these modules, we have our functions. So, in order to chain function calls, we do not rely on object method calls, instead we do something like this:</p>
<div class="gatsby-highlight" data-language="elixir"><pre style="counter-reset: linenumber NaN" class="language-elixir line-numbers"><code class="language-elixir">lst
<span class="token operator">|></span> Enum<span class="token punctuation">.</span>filter<span class="token punctuation">(</span><span class="token capture function">&amp;is_even</span><span class="token punctuation">(</span><span class="token argument variable">&amp;1</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token operator">|></span> Enum<span class="token punctuation">.</span>map<span class="token punctuation">(</span><span class="token capture function">&amp;</span><span class="token punctuation">(</span><span class="token argument variable">&amp;1</span> <span class="token operator">+</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">)</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span></span></pre></div>
<p>We are quite literally chaining <em>function</em> calls as opposed to chaining <em>method</em> calls.</p>
<p><code class="language-text">lst</code> is passed directly as the first parameter of the first function, then the result of <code class="language-text">Enum.filter</code> is passed to the second function and so on.</p>
<p>I like this syntax as opposed to method call chaining as it provides a clearer way of reading the code - where we do not worry about whether an object supports a given operation. We just focus on the data type of the input and pick the methods that suit this information.</p>
<h2 id="pattern-matching" style="position:relative;"><a href="#pattern-matching" aria-label="pattern matching permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Pattern matching</h2>
<p>Traditionally, return values or arguments are often passed in a given format (list or map, etc.) and it is the function's responsibility to decode this structure in the function body. However, pattern matching eliminates this additional overhead by providing the necessary syntax for performing all of this decoding for us. Let's look at several examples and contrast them against "traditional" solutions written in more OOP-oriented languages.</p>
<p>Let's say we declare a function that returns a tuple. This tuple represents a simple HTTP connection string: the URL and port. Let's see how we can write this in Kotlin:</p>
<div class="gatsby-highlight" data-language="kotlin"><pre style="counter-reset: linenumber NaN" class="language-kotlin line-numbers"><code class="language-kotlin"><span class="token keyword">fun</span> <span class="token function">getConnString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token string">"193.67.13.1"</span> <span class="token keyword">to</span> <span class="token string">"2203"</span>
<span class="token punctuation">}</span>

<span class="token keyword">fun</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">val</span> connString <span class="token operator">=</span> <span class="token function">getConnString</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token keyword">val</span> url <span class="token operator">=</span> connString<span class="token punctuation">.</span>first
  <span class="token keyword">val</span> port <span class="token operator">=</span> connString<span class="token punctuation">.</span>second
<span class="token punctuation">}</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>
<p>Let's see how we would approach this in Elixir:</p>
<div class="gatsby-highlight" data-language="elixir"><pre style="counter-reset: linenumber NaN" class="language-elixir line-numbers"><code class="language-elixir"><span class="token keyword">def</span> get_conn_string<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">do</span> 
  <span class="token punctuation">{</span><span class="token string">"193.67.13.1"</span><span class="token punctuation">,</span> <span class="token string">"2203"</span><span class="token punctuation">}</span>
<span class="token keyword">end</span>

<span class="token keyword">def</span> main<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">do</span>  
  <span class="token punctuation">{</span>url<span class="token punctuation">,</span> port<span class="token punctuation">}</span> <span class="token operator">=</span> get_conn_string
<span class="token keyword">end</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>
<p>A keen Kotlin developer might argue that, "Hey, since Kotlin already supports Pair unpacking, this problem is trivial right?" </p>
<p><strong>Wrong.</strong></p>
<p>While Kotlin provides basic, single-level destructuring, it does not support far more complex ones, such as:</p>
<div class="gatsby-highlight" data-language="elixir"><pre style="counter-reset: linenumber NaN" class="language-elixir line-numbers"><code class="language-elixir"><span class="token keyword">def</span> big_bag<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">do</span> 
  <span class="token punctuation">{</span><span class="token string">"192.67.13.1"</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">"2203"</span><span class="token punctuation">,</span> <span class="token string">"2204"</span><span class="token punctuation">]</span><span class="token punctuation">}</span>
<span class="token keyword">end</span>

<span class="token keyword">def</span> main<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">do</span>
  <span class="token punctuation">{</span>address<span class="token punctuation">,</span> <span class="token punctuation">[</span>primary_port<span class="token punctuation">,</span> secondary_port<span class="token punctuation">]</span><span class="token punctuation">}</span> <span class="token operator">=</span> big_bag
<span class="token keyword">end</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>
<p>Thread lightly for brave souls have tried but failed in achieving this level of destructuring in "traditional" OOP languages.</p>
<p>But beyond a simple application of destructuring the return values of a function, we can also use pattern matching in our function parameters.</p>
<div class="gatsby-highlight" data-language="elixir"><pre style="counter-reset: linenumber NaN" class="language-elixir line-numbers"><code class="language-elixir"><span class="token keyword">def</span> read_conn<span class="token punctuation">(</span><span class="token punctuation">{</span>url<span class="token punctuation">,</span> <span class="token punctuation">[</span>primary_port<span class="token punctuation">,</span> secondary_port<span class="token punctuation">]</span><span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token keyword">do</span> 
  <span class="token string">"<span class="token interpolation"><span class="token delimiter punctuation">#{</span>url<span class="token delimiter punctuation">}</span></span>:<span class="token interpolation"><span class="token delimiter punctuation">#{</span>primary_port<span class="token delimiter punctuation">}</span></span>"</span>
<span class="token keyword">end</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span></span></pre></div>
<p>Not only can we use pattern matching for destructuring parameters of a single function, we can use method overloading in conjunction with pattern matching to cater to corner cases in our parameters (more can be done with guard clauses but that is a topic I shall reserve till later on):</p>
<div class="gatsby-highlight" data-language="elixir"><pre style="counter-reset: linenumber NaN" class="language-elixir line-numbers"><code class="language-elixir"><span class="token keyword">def</span> ex<span class="token punctuation">(</span><span class="token punctuation">[</span>instruction <span class="token operator">|</span> rest<span class="token punctuation">]</span><span class="token punctuation">,</span> result<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token attr-name">do:</span> ex<span class="token punctuation">(</span>rest<span class="token punctuation">,</span> result <span class="token operator">++</span> instruction<span class="token punctuation">)</span>
<span class="token keyword">def</span> ex<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> result<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token attr-name">do:</span> result</code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span></span></pre></div>
<p>In this particular example, the function <code class="language-text">ex</code> extracts the immediate instruction from the list of instructions and adds it to the result. It does so recursively until the list of instructions is empty. At that point, the function will simply return the list of instructions once again (recall that <code class="language-text">result</code> simply holds the instructions in order).</p>
<p>This recursive function is able to halt (or encounter a stop case) because pattern matching dictates that any non-empty list will call the function again while an empty list returns the <code class="language-text">result</code>.</p>
<p>You can also use pattern matching to detect when a function parameter (destructured) does not match a given format:</p>
<div class="gatsby-highlight" data-language="elixir"><pre style="counter-reset: linenumber NaN" class="language-elixir line-numbers"><code class="language-elixir"><span class="token keyword">def</span> foo<span class="token punctuation">(</span>_<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token attr-name">do:</span> <span class="token atom symbol">:error</span>
<span class="token keyword">def</span> foo<span class="token punctuation">(</span><span class="token punctuation">[</span>name<span class="token punctuation">,</span> age<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token attr-name">do:</span> <span class="token string">"<span class="token interpolation"><span class="token delimiter punctuation">#{</span>name<span class="token delimiter punctuation">}</span></span>, <span class="token interpolation"><span class="token delimiter punctuation">#{</span>age<span class="token delimiter punctuation">}</span></span>"</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span></span></pre></div>
<p>Pretty cool innit? The official Elixir documentation talks about pattern matching in much greater detail but I wanted to highlight the applications of pattern matching that I found interesting.</p>
<p>Pattern matching has allowed me to write far more concise code and that has been such a wonderful feature that I sorely miss now when I work on Kotlin codebases.</p>
<h2 id="guard-clauses" style="position:relative;"><a href="#guard-clauses" aria-label="guard clauses permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Guard clauses</h2>
<p>Imagine we're writing an implementation of the Fibonacci sequence in Kotlin. In order to inform the program that we have hit a base case, we would often design the function to include the base case, as such:</p>
<div class="gatsby-highlight" data-language="kotlin"><pre style="counter-reset: linenumber NaN" class="language-kotlin line-numbers"><code class="language-kotlin"><span class="token keyword">fun</span> <span class="token function">fib</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>n <span class="token operator">==</span> <span class="token number">0</span> <span class="token operator">or</span> n <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token number">1</span>
  <span class="token keyword">return</span> <span class="token function">fib</span><span class="token punctuation">(</span>n <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token function">fib</span><span class="token punctuation">(</span>n <span class="token operator">-</span> <span class="token number">2</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span></span></pre></div>
<p>I don't know about you, but the if-statement just makes the code look untidy. Instead, we can use guard clauses to spruce this up a little:</p>
<div class="gatsby-highlight" data-language="elixir"><pre style="counter-reset: linenumber NaN" class="language-elixir line-numbers"><code class="language-elixir"><span class="token keyword">def</span> fib<span class="token punctuation">(</span>n<span class="token punctuation">)</span> <span class="token keyword">when</span> n <span class="token operator">in</span> <span class="token number">0</span><span class="token operator">..</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token attr-name">do:</span> <span class="token number">1</span>
<span class="token keyword">def</span> fib<span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token attr-name">do:</span> fib<span class="token punctuation">(</span>n <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">+</span> fib<span class="token punctuation">(</span>n <span class="token operator">-</span> <span class="token number">2</span><span class="token punctuation">)</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span></span></pre></div>
<p>Rather than embedding an if-statement inside of the function, we overload the method with a guard clause - denoted by the <code class="language-text">when</code> keyword. When the program executes, it checks every overload of the method and tries to match the patterns <strong>AND</strong> guard clauses to ensure the right function implementation is called. </p>
<p>This is very useful as we can expand our code to account for many base cases without polluting the core behavior of the function. This allows us to design code that scales vertically (more functions), not horizontally (more if-statements).</p>
<hr>
<h2 id="conclusion" style="position:relative;"><a href="#conclusion" aria-label="conclusion permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Conclusion</h2>
<p><del>Elixir is cool and you should use it!</del></p>
<p>In all honesty, Elixir has taught me to value OOP more, ironically. I have realised that I am very used to the OOP way of solving problems that my fundamental problem solving skills without this hammer has become extremely dull and I am very happy that Elixir has allowed me to express my code in an elegant manner. I cannot wait to try using Elixir to build sites using Phoenix!</p></div></div><div class="blog-post-module--tags--3p1cR"><div class="blog-post-module--tags-container--1xoUV"><span>reflection</span><span>sharing</span><span>Elixir</span><span>Advent of Code 2020</span></div></div><div class="post-navigation-module--navigation--3VtCO"><hr/><div class="post-navigation-module--buttons--CZBoe"><p><a href="/blog"><svg stroke="currentColor" fill="none" stroke-width="2" viewBox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round" style="margin-right:15px" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"></path><polyline points="9 22 9 12 15 12 15 22"></polyline></svg> Home</a></p><p><a href="/blog/posts/2020-07-22-Discovering Chrome accounts">Discovering Chrome accounts<svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 512 512" style="margin-left:15px" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M294.1 256L167 129c-9.4-9.4-9.4-24.6 0-33.9s24.6-9.3 34 0L345 239c9.1 9.1 9.3 23.7.7 33.1L201.1 417c-4.7 4.7-10.9 7-17 7s-12.3-2.3-17-7c-9.4-9.4-9.4-24.6 0-33.9l127-127.1z"></path></svg></a></p></div></div></div><footer>Copyright © 2020. <!-- -->A Programmer&#x27;s Perspective<!-- --> is built with Gatsby.js. The repository can be found <a href="https://github.com/woojiahao/woojiahao.github.io">here.</a></footer></div><div class="back-to-top-module--hidden--1vCrd back-to-top-module--arrow--154X5"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 1024 1024" height="1.75em" width="1.75em" xmlns="http://www.w3.org/2000/svg"><path d="M868 545.5L536.1 163a31.96 31.96 0 0 0-48.3 0L156 545.5a7.97 7.97 0 0 0 6 13.2h81c4.6 0 9-2 12.1-5.5L474 300.9V864c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V300.9l218.9 252.3c3 3.5 7.4 5.5 12.1 5.5h81c6.8 0 10.5-8 6-13.2z"></path></svg></div></div></div><div id="gatsby-announcer" style="position:absolute;top:0;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border:0" aria-live="assertive" aria-atomic="true"></div></div><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/blog/posts/2020-12-29-Elixir has opened my eyes";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"app":["/app-98f3e2ce45f88b295012.js"],"component---cache-caches-gatsby-plugin-offline-app-shell-js":["/component---cache-caches-gatsby-plugin-offline-app-shell-js-b3d32bc20641419cfed7.js"],"component---src-templates-blog-list-js":["/component---src-templates-blog-list-js-34617f27f403aad53622.js"],"component---src-templates-blog-post-js":["/component---src-templates-blog-post-js-2705bb5758577915bf21.js"],"component---src-templates-project-list-js":["/component---src-templates-project-list-js-38b4a84e5d5eae88ee79.js"],"component---src-templates-project-listing-js":["/component---src-templates-project-listing-js-1aebc956c68af2ac7c0a.js"],"component---src-templates-general-post-js":["/component---src-templates-general-post-js-234fe3891d55e0554da4.js"],"component---src-pages-404-js":["/component---src-pages-404-js-1fe03d08a2ce3bfbd7be.js"],"component---src-pages-index-js":["/component---src-pages-index-js-4fc8660b54cfccfb59ae.js"]};/*]]>*/</script><script src="/component---src-templates-blog-post-js-2705bb5758577915bf21.js" async=""></script><script src="/95b64a6e-101708775e0f470f9a67.js" async=""></script><script src="/d7eeaac4-97311478b2221ced9c67.js" async=""></script><script src="/0c428ae2-82896d4921773a4c9835.js" async=""></script><script src="/styles-0dd9b16d06f2e4f550cc.js" async=""></script><script src="/app-98f3e2ce45f88b295012.js" async=""></script><script src="/framework-84c9287a5714d2d8ce36.js" async=""></script><script src="/webpack-runtime-280fb773004bbd115daa.js" async=""></script></body></html>